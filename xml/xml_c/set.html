<!DOCTYPE html>
<html>
<head>
	<link href="lcd/css/lcd.css" rel="stylesheet">
	<meta charset="utf-8">
	<title>箱变配电智能机柜</title>
</head>


<body onload="startTime()">
		
			<div style="height:1000px; width:1024px; background-image:url('lcd/pic/background.jpg');margin:auto;position:absolute;left:0px;top:80px;right:0px;bottom:0px;">
				<div class="title">
                    <p style="font-size:48px;color:aqua;margin:30px">箱变配电智能机柜</p>
				</div>
				
					<form   name="theForm"  action="xml.cgi"  method="post" >
                        <div  class="set_add_warn" style="width:900px; height:100px">
                              <span style="color:#C0F561;font-size:16px;">路口名称设置 &nbsp;:<input type="text" name="cross_road_name" id="crossname" class="set_input"/>
                                                                        设备编号设置 &nbsp;:<input type="text" name="device_id"  id="deviceid"  class="set_input" />
                              </span></br></br>
                            
                             <span style="color:#C0F561;font-size:16px;">
                                 本地网络1设置:<input type="text" name="ip1" id="ip1" class="set_input" > 
                                 子网掩码1设置:<input type="text" name="mask1" id="mask1" class="set_input" >
                                 默认网关1设置:<input type="text" name="gateway1" id="gateway1" class="set_input" >
                            </span></br></br>
                            
                             <span style="color:#C0F561;font-size:16px;">
                                 本地网络2设置:<input type="text" name="ip2" id="ip2" class="set_input" > 
                                 子网掩码2设置:<input type="text" name="mask2" id="mask2" class="set_input" >
                                 默认网关2设置:<input type="text" name="gateway2" id="gateway2" class="set_input" >
                            </span> 
                            
                        </div> 
                        <div class="set_add_warn" >
                             <p style="color:#C0F561;font-size:16px; ">A3相位定义: <input type="text" name="a3_define" id="a3_define" class="set_input" ></p>
                             <p style="color:#C0F561;font-size:16px; ">A2相位定义: <input type="text" name="a2_define" id="a2_define" class="set_input" ></p>
                             <p style="color:#C0F561;font-size:16px; ">A1相位定义: <input type="text" name="a1_define" id="a1_define" class="set_input" ></p>
                             <p style="color:#C0F561;font-size:16px; ">B3相位定义: <input type="text" name="b3_define" id="b3_define" class="set_input" ></p>
                             <p style="color:#C0F561;font-size:16px; ">B2相位定义: <input type="text" name="b2_define" id="b2_define" class="set_input" ></p>
                             <p style="color:#C0F561;font-size:16px; ">B1相位定义: <input type="text" name="b1_define" id="b1_define" class="set_input" ></p>
                             <p style="color:#C0F561;font-size:16px; ">C3相位定义: <input type="text" name="c3_define" id="c3_define" class="set_input"></p>
                             <p style="color:#C0F561;font-size:16px; ">C2相位定义: <input type="text" name="c2_define" id="c2_define" class="set_input" ></p>
                             <p style="color:#C0F561;font-size:16px; ">C1相位定义: <input type="text" name="c1_define" id="c1_define" class="set_input" ></p>
                          </div>   
                          <div class="set_add_warn" >
                             <p style="color:#C0F561;font-size:16px; ">A3报警高阈值: <input type="text" name="a3_warn" id="a3_warn" class="set_input" >mA</p>
                             <p style="color:#C0F561;font-size:16px; ">A2报警高阈值: <input type="text" name="a2_warn" id="a2_warn" class="set_input" >mA</p>
                             <p style="color:#C0F561;font-size:16px; ">A1报警高阈值: <input type="text" name="a1_warn" id="a1_warn" class="set_input" >mA</p>
                             <p style="color:#C0F561;font-size:16px; ">B3报警高阈值: <input type="text" name="b3_warn" id="b3_warn" class="set_input" >mA</p>
                             <p style="color:#C0F561;font-size:16px; ">B2报警高阈值: <input type="text" name="b2_warn" id="b2_warn" class="set_input" >mA</p>
                             <p style="color:#C0F561;font-size:16px; ">B1报警高阈值: <input type="text" name="b1_warn" id="b1_warn" class="set_input" >mA</p>
                             <p style="color:#C0F561;font-size:16px; ">C3报警高阈值: <input type="text" name="c3_warn" id="c3_warn" class="set_input" >mA</p>
                             <p style="color:#C0F561;font-size:16px; ">C2报警高阈值: <input type="text" name="c2_warn" id="c2_warn" class="set_input" >mA</p>
                             <p style="color:#C0F561;font-size:16px; ">C1报警高阈值: <input type="text" name="c1_warn" id="c1_warn" class="set_input" >mA</p>
                          </div>  
                          <div class="set_add_warn" >
                             <p style="color:#C0F561;font-size:16px; ">A3报警低阈值: <input type="text" name="a3_warn_l" id="a3_warn_l" class="set_input" >mA</p>
                             <p style="color:#C0F561;font-size:16px; ">A2报警低阈值: <input type="text" name="a2_warn_l" id="a2_warn_l" class="set_input" >mA</p>
                             <p style="color:#C0F561;font-size:16px; ">A1报警低阈值: <input type="text" name="a1_warn_l" id="a1_warn_l" class="set_input" >mA</p>
                             <p style="color:#C0F561;font-size:16px; ">B3报警低阈值: <input type="text" name="b3_warn_l" id="b3_warn_l" class="set_input" >mA</p>
                             <p style="color:#C0F561;font-size:16px; ">B2报警低阈值: <input type="text" name="b2_warn_l" id="b2_warn_l" class="set_input" >mA</p>
                             <p style="color:#C0F561;font-size:16px; ">B1报警低阈值: <input type="text" name="b1_warn_l" id="b1_warn_l" class="set_input" >mA</p>
                             <p style="color:#C0F561;font-size:16px; ">C3报警低阈值: <input type="text" name="c3_warn_l" id="c3_warn_l" class="set_input" >mA</p>
                             <p style="color:#C0F561;font-size:16px; ">C2报警低阈值: <input type="text" name="c2_warn_l" id="c2_warn_l" class="set_input" >mA</p>
                             <p style="color:#C0F561;font-size:16px; ">C1报警低阈值: <input type="text" name="c1_warn_l" id="c1_warn_l" class="set_input" >mA</p>
                          </div>  
                        
                        <div class="submit">
                            <input name="baseinfo"   type="submit" value="设置" onclick="return juge_result()" style="color:#C0F561;font-size:36px; background-color:#0B82E4;border-radius:15px;">
                            <input  type="reset" value="取消" onclick="cancle_jump()" style="color:#C0F561;font-size:36px; background-color:#0B82E4;border-radius:15px; margin-left:80px;">
                        </div>
                       
					</form>
					<table border="1">
							<tr>
								<td id ="test"></td><td id ="test1"></td>
							</tr>
					</table>
					<div  id="txt"  class="sys_div2"></div>
			</div>
    
            
    
    	<script>
		function startTime(){
			var today=new Date();
			var year=today.getFullYear();
			var month=today.getMonth()+1;
			var day=today.getDate();
			var h=today.getHours();
			var m=today.getMinutes();
			var s=today.getSeconds();// 在小于10的数字前加一个‘0’
			m=checkTime(m);
			s=checkTime(s);
			document.getElementById('txt').innerHTML=year+"年"+month+"月"+day+"日 "+h+":"+m+":"+s;
			t=setTimeout(function(){startTime()},500);
		}
		function checkTime(i){
			if (i<10){
				i="0" + i;
			}
			return i;
		}
	</script>
	
	<script>
		function cancle_jump()
		{
			window.open("index.html","_self");
		}
		
		function juge_result()
		{
			if(theForm.cross_road_name.value == "")
				{
					alert("路口名不能为空");
					return false;
				}
				else if(theForm.device_id.value == "")
				{
					alert("设备ID不能为空");
					return false;
				}
				return true;
		}
	</script>
    
    
    <script>
        
        function set_info_refresh(obj)
				{
                        document .getElementById ("crossname").value=obj.cross_road_name ; 
						document .getElementById ("deviceid").value=obj.device_id ; 	
                        document .getElementById ("ip1").value=obj.ip1 ; 
                        document .getElementById ("mask1").value=obj.mask1 ; 
                        document .getElementById ("gateway1").value=obj.gateway1 ; 
                        document .getElementById ("ip2").value=obj.ip2 ; 
                        document .getElementById ("mask2").value=obj.mask2 ; 
                        document .getElementById ("gateway2").value=obj.gateway2 ; 
                        document .getElementById ("a3_define").value=obj.a3_define ; 
                        document .getElementById ("a2_define").value=obj.a2_define ; 
                        document .getElementById ("a1_define").value=obj.a1_define ; 
                        document .getElementById ("b3_define").value=obj.b3_define ; 
                        document .getElementById ("b2_define").value=obj.b2_define ; 
                        document .getElementById ("b1_define").value=obj.b1_define ; 
                        document .getElementById ("c3_define").value=obj.c3_define ;
                        document .getElementById ("c2_define").value=obj.c2_define ; 
                        document .getElementById ("c1_define").value=obj.c1_define ;
                        document .getElementById ("a3_warn").value=obj.a3_warn ; 
                        document .getElementById ("a2_warn").value=obj.a2_warn ; 
                        document .getElementById ("a1_warn").value=obj.a1_warn ; 
                        document .getElementById ("b3_warn").value=obj.b3_warn ; 
                        document .getElementById ("b2_warn").value=obj.b2_warn ; 
                        document .getElementById ("b1_warn").value=obj.b1_warn ; 
                        document .getElementById ("c3_warn").value=obj.c3_warn ; 
                        document .getElementById ("c2_warn").value=obj.c2_warn ; 
                        document .getElementById ("c1_warn").value=obj.c1_warn ; 
                        document .getElementById ("a3_warn_l").value=obj.a3_warn_l ; 
                        document .getElementById ("a2_warn_l").value=obj.a2_warn_l ; 
                        document .getElementById ("a1_warn_l").value=obj.a1_warn_l ; 
                        document .getElementById ("b3_warn_l").value=obj.b3_warn_l ; 
                        document .getElementById ("b2_warn_l").value=obj.b2_warn_l ; 
                        document .getElementById ("b1_warn_l").value=obj.b1_warn_l ; 
                        document .getElementById ("c3_warn_l").value=obj.c3_warn_l ; 
                        document .getElementById ("c2_warn_l").value=obj.c2_warn_l ; 
                        document .getElementById ("c1_warn_l").value=obj.c1_warn_l ; 
                         
				}
        
        function loadXMLDoc()
					{
						var xmlhttp;
						var i=0;
						if (window.XMLHttpRequest)
						{
							// IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码
							xmlhttp=new XMLHttpRequest();
						}
						else
						{
							// IE6, IE5 浏览器执行代码 
							xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
						}
						xmlhttp.onreadystatechange=function()
						{
							if (xmlhttp.readyState==4 && xmlhttp.status==200)
							{

							  var obj= JSON.parse(xmlhttp.responseText);
									set_info_refresh(obj);//更新数据										
							}
						}
						xmlhttp.open("GET","/val.txt",true);
						xmlhttp.send();
					}
                    loadXMLDoc();
                   
		  </script>		  

					
		  </script>		  
		</body>
</html>
